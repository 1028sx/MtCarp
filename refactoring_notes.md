# 專案重構筆記

本檔案用於記錄 AI 助理與使用者之間關於「敦煌」專案重構的討論摘要、進度與未來目標，以應對可能發生的對話中斷。

## 目前狀態 (2025/04/15)

- 已檢視專案結構 (`list_dir`)。
- 已閱讀 `README.md`，了解專案基本情況（2D 敦煌主題動作遊戲，Godot 4.3）。
- 已深入閱讀並分析了核心腳本 `scripts/player/player.gd`。發現其功能豐富但結構複雜，耦合度高，不利於維護和擴展。
- **已達成的共識**：同意採用**逐步重構**策略來改善 `player.gd` 的清晰度和可管理性，為後續遊戲類型重構做準備，同時降低風險。強調需要使用者配合進行 Godot 編輯器操作。

## 下一步行動

- **等待使用者決定**：從以下選項中選擇第一個重構目標：
    - **A. 引入狀態機**：重構玩家的狀態管理邏輯。
    - **B. 抽離移動邏輯**：將移動、跳躍、衝刺相關代碼分離出來。
    - **C. 重構效果系統**：整理複雜的被動效果和技能邏輯。

## 未來目標/待辦事項

- [ ] 完成 `player.gd` 的初步重構（拆分狀態管理、移動、戰鬥、效果等）。
- [ ] 分析其他核心腳本（`enemies/`, `managers/`, `ui/` 等）。
- [ ] 與使用者討論並確定遊戲類型的具體重構方向。
- [ ] 根據新的遊戲類型，規劃並實施後續的程式碼修改。

---
*(AI 助理會盡力在關鍵節點更新此檔案)* 